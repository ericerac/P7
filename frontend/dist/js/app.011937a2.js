(function(){var e={46700:function(e,t,s){var o={"./af":63906,"./af.js":63906,"./ar":40902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":20299,"./ar-kw.js":20299,"./ar-ly":96825,"./ar-ly.js":96825,"./ar-ma":66379,"./ar-ma.js":66379,"./ar-sa":87700,"./ar-sa.js":87700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":40902,"./az":76043,"./az.js":76043,"./be":7936,"./be.js":7936,"./bg":34078,"./bg.js":34078,"./bm":14014,"./bm.js":14014,"./bn":29554,"./bn-bd":17114,"./bn-bd.js":17114,"./bn.js":29554,"./bo":6529,"./bo.js":6529,"./br":65437,"./br.js":65437,"./bs":19647,"./bs.js":19647,"./ca":59951,"./ca.js":59951,"./cs":26113,"./cs.js":26113,"./cv":37965,"./cv.js":37965,"./cy":35858,"./cy.js":35858,"./da":33515,"./da.js":33515,"./de":62831,"./de-at":6263,"./de-at.js":6263,"./de-ch":51127,"./de-ch.js":51127,"./de.js":62831,"./dv":4510,"./dv.js":4510,"./el":68616,"./el.js":68616,"./en-au":24595,"./en-au.js":24595,"./en-ca":73545,"./en-ca.js":73545,"./en-gb":79609,"./en-gb.js":79609,"./en-ie":43727,"./en-ie.js":43727,"./en-il":93302,"./en-il.js":93302,"./en-in":46305,"./en-in.js":46305,"./en-nz":39128,"./en-nz.js":39128,"./en-sg":84569,"./en-sg.js":84569,"./eo":50650,"./eo.js":50650,"./es":26358,"./es-do":64214,"./es-do.js":64214,"./es-mx":38639,"./es-mx.js":38639,"./es-us":30232,"./es-us.js":30232,"./es.js":26358,"./et":47279,"./et.js":47279,"./eu":15515,"./eu.js":15515,"./fa":27981,"./fa.js":27981,"./fi":37090,"./fi.js":37090,"./fil":79208,"./fil.js":79208,"./fo":2799,"./fo.js":2799,"./fr":23463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":52848,"./fr-ch.js":52848,"./fr.js":23463,"./fy":41468,"./fy.js":41468,"./ga":88163,"./ga.js":88163,"./gd":2898,"./gd.js":2898,"./gl":76312,"./gl.js":76312,"./gom-deva":20682,"./gom-deva.js":20682,"./gom-latn":49178,"./gom-latn.js":49178,"./gu":31400,"./gu.js":31400,"./he":52795,"./he.js":52795,"./hi":17009,"./hi.js":17009,"./hr":46506,"./hr.js":46506,"./hu":69565,"./hu.js":69565,"./hy-am":93864,"./hy-am.js":93864,"./id":5626,"./id.js":5626,"./is":36649,"./is.js":36649,"./it":90151,"./it-ch":53217,"./it-ch.js":53217,"./it.js":90151,"./ja":79830,"./ja.js":79830,"./jv":33751,"./jv.js":33751,"./ka":63365,"./ka.js":63365,"./kk":85980,"./kk.js":85980,"./km":99571,"./km.js":99571,"./kn":25880,"./kn.js":25880,"./ko":16809,"./ko.js":16809,"./ku":96773,"./ku.js":96773,"./ky":65505,"./ky.js":65505,"./lb":50553,"./lb.js":50553,"./lo":51237,"./lo.js":51237,"./lt":91563,"./lt.js":91563,"./lv":61057,"./lv.js":61057,"./me":96495,"./me.js":96495,"./mi":83096,"./mi.js":83096,"./mk":43874,"./mk.js":43874,"./ml":46055,"./ml.js":46055,"./mn":87747,"./mn.js":87747,"./mr":17113,"./mr.js":17113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":14532,"./mt.js":14532,"./my":4655,"./my.js":4655,"./nb":56961,"./nb.js":56961,"./ne":2512,"./ne.js":2512,"./nl":48448,"./nl-be":72936,"./nl-be.js":72936,"./nl.js":48448,"./nn":49031,"./nn.js":49031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":30118,"./pa-in.js":30118,"./pl":93448,"./pl.js":93448,"./pt":33518,"./pt-br":62447,"./pt-br.js":62447,"./pt.js":33518,"./ro":70817,"./ro.js":70817,"./ru":10262,"./ru.js":10262,"./sd":58990,"./sd.js":58990,"./se":43842,"./se.js":43842,"./si":37711,"./si.js":37711,"./sk":80756,"./sk.js":80756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":40732,"./sr-cyrl":75713,"./sr-cyrl.js":75713,"./sr.js":40732,"./ss":99455,"./ss.js":99455,"./sv":69770,"./sv.js":69770,"./sw":80959,"./sw.js":80959,"./ta":36459,"./ta.js":36459,"./te":25302,"./te.js":25302,"./tet":67975,"./tet.js":67975,"./tg":71294,"./tg.js":71294,"./th":2385,"./th.js":2385,"./tk":24613,"./tk.js":24613,"./tl-ph":58668,"./tl-ph.js":58668,"./tlh":58190,"./tlh.js":58190,"./tr":74506,"./tr.js":74506,"./tzl":63440,"./tzl.js":63440,"./tzm":69852,"./tzm-latn":42350,"./tzm-latn.js":42350,"./tzm.js":69852,"./ug-cn":70730,"./ug-cn.js":70730,"./uk":40099,"./uk.js":40099,"./ur":72100,"./ur.js":72100,"./uz":96002,"./uz-latn":26322,"./uz-latn.js":26322,"./uz.js":96002,"./vi":14207,"./vi.js":14207,"./x-pseudo":24674,"./x-pseudo.js":24674,"./yo":10570,"./yo.js":10570,"./zh-cn":73644,"./zh-cn.js":73644,"./zh-hk":22591,"./zh-hk.js":22591,"./zh-mo":89503,"./zh-mo.js":89503,"./zh-tw":88080,"./zh-tw.js":88080};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=46700},23301:function(e,t,s){"use strict";var o=s(49242),r=s(73396);function a(e,t,s,o,a,n){const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(l)}var n={name:"App",components:{}},l=s(40089);const i=(0,l.Z)(n,[["render",a]]);var c=i,u=s(70678),d=s(27207),m=s(87139),g=s.p+"img/icon-left-font-monochrome-black.5c8eefac.svg",p=s.p+"img/icon.faf9e05d.svg";const h=e=>((0,r.dD)("data-v-559ac4df"),e=e(),(0,r.Cn)(),e),f={class:"container"},E={class:"row"},v={class:"col-md-12 bloc-list"},D={class:"card ccard radius-t-0 h-auto"},j=h((()=>(0,r._)("div",{class:"position-tl w-102 border-t-3 brc-primary-tp3 ml-n1px mt-n1px"},null,-1))),w={class:"card-header pb-2 brc-secondary-l3"},b={class:"head-left"},N=h((()=>(0,r._)("i",{class:"fa fa-arrow-left text-95"},null,-1))),k=(0,r.Uk)(" Retour "),S=[N,k],A=h((()=>(0,r._)("img",{class:"logoTop",src:g,alt:"logo groupomania"},null,-1))),U=h((()=>(0,r._)("h5",{class:"card-title mb-0 mb-md-0 text-dark-m3"}," UTILISATEURS ",-1))),T=h((()=>(0,r._)("div",{role:"button",class:"d-flex flex-wrap align-items-center my-2 bgc-secondary-l4 bgc-h-secondary-l3 radius-1 p-25 d-style"},[(0,r._)("span",{class:"text-default-d3 text-90 text-600"}," Avatar "),(0,r._)("span",{class:"text-default-d3 text-90 text-600"}," Nom Prénom "),(0,r._)("span",{class:"text-default-d3 text-90 text-600 text-wrap"},[(0,r.Uk)(" Inscrit depuis le: "),(0,r._)("span",{class:"text-80"})])],-1))),_={class:"card-body pl-1 pt-1 pb-1"},y=["onClick"],I={class:"mr-25 w-4 h-4 overflow-hidden text-center border-3 text-default-d3 text-90 text-600 radius-round shadow-sm d-zoom-1"},P={class:"mr-25 w-4 h-4 overflow-hidden text-center border-1 brc-secondary-m2 radius-round shadow-sm d-zoom-2"},O=["src"],x={key:1,alt:"avatar",src:p,class:"h-4 w-4"},R={class:"text-default-d3 text-90 text-600"},L={class:"ml-auto text-default-d3 text-90 text-600 text-wrap"};function C(e,t,s,a,n,l){const i=(0,r.up)("fa");return(0,r.wg)(),(0,r.iD)("div",f,[(0,r._)("div",E,[(0,r._)("div",v,[(0,r._)("div",D,[j,(0,r._)("div",w,[(0,r._)("div",b,[(0,r._)("span",{class:"retour",onClick:t[0]||(t[0]=e=>l.goToProfilPage())},S),A]),(0,r._)("div",null,[U,(0,r.wy)((0,r._)("input",{class:"search-input mb-0 mt-1 pb-0","onUpdate:modelValue":t[1]||(t[1]=t=>e.searchUser=t),type:"search",id:"search",placeholder:"rechercher",autocomplete:"off"},null,512),[[o.nr,e.searchUser]])])]),T,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filterUser,(e=>((0,r.wg)(),(0,r.iD)("div",_,[(0,r._)("div",{role:"button",onClick:t=>l.UserDetail(e.id),class:"d-flex flex-wrap align-items-center my-2 bgc-secondary-l4 bgc-h-secondary-l3 radius-1 p-25 d-style"},[(0,r._)("span",I,[(0,r.Wm)(i,{icon:["far","trash-alt"],onClick:t=>l.deleteUser(e.id)},null,8,["onClick"])]),(0,r._)("span",P,[e.media?((0,r.wg)(),(0,r.iD)("img",{key:0,alt:"avatar",src:e.media,class:"h-4 w-4"},null,8,O)):((0,r.wg)(),(0,r.iD)("img",x))]),(0,r._)("span",R,(0,m.zw)(e.firstName)+" "+(0,m.zw)()+" "+(0,m.zw)(e.lastName),1),(0,r._)("span",L,(0,m.zw)(l.date(e.createdAt)),1)],8,y)])))),256))])])])])}var z=s(20065),$=s(36797),F=s.n($),M=s(20560);console.log(" BEFORE tout");var q={name:"userList",data:function(){return{detailUser:!0,searchUser:""}},beforeCreate:()=>{},created:()=>{console.log("  CREATED")},mounted:()=>{console.log("  MOUNTED",userId)},created:function(){console.log("CREATED"),this.$store.dispatch("getAllUsersData")},computed:{...(0,z.mapState)({AllUsers:"allsUsersData",dataArt:"artData",OneUserData:"useData"}),filterUser(){return this.AllUsers.filter((e=>e.firstName.toLowerCase().includes(this.searchUser.toLowerCase())))}},methods:{UserDetail:async function(e){this.detailUser,console.log("this.DetailUser",this.detailUser),await this.$store.dispatch("getUserData",e).then((e=>{console.log("RES USER-DATA ADMINPAGE -------\x3e",e)})),console.log("BOUTON USER",this.DetailUser)},date(e){return F()(e).format("DD/MM/YYYY ")},goToProfilPage:function(){this.$router.push("../components/profil")},goToAdminPage:function(){console.log("GO-TO-ADMIN-PAGE"),this.$router.push("../user/admin")},deleteUser(e){const t=window.confirm("Voulez-vous vraiment supprimer ce compte ?");t&&(console.log("USER-ID PROFIL DELETE",e),this.$store.dispatch("deleteUser",e).then((e=>{e&&(console.log("RESOLVE PROFIL PAGE DELETE ------\x3e",e.data.message),alert("le compte a bien été supprimé"),this.$router.push("/profil"))})).catch((e=>{console.log("ERREUR REQUETE PROFIL DELETE USER------\x3e",e),alert("Requete refusée")})))}}};const K=(0,l.Z)(q,[["render",C],["__scopeId","data-v-559ac4df"]]);var X=K,B=s(78199),V=s.p+"img/icon.ad1aa237.png";const Z={class:"container d-flex justify-content-center align-items-center"},G={class:"row col-12 col-lg-10 col-xl-10"},Y={class:"navBar mb-3 pd-3 d-flex justify-content-between align-items-center"},W=(0,r._)("img",{class:"logoTop",src:B,alt:"logo groupomania"},null,-1),H=[".class"],Q={class:"card"},J={class:"col-md-12 mt-2 text-center"},ee=(0,r._)("div",{class:"user text-center"},null,-1),te={class:"user text-center"},se={key:0},oe={class:"upper"},re={class:"profile"},ae={key:0,id:"userImg",src:V,class:"rounded-circle",width:"80",alt:"logo groupomanias"},ne=["src"],le={class:"avis-media mt-1 mb-0"},ie={key:0},ce={class:"mt-1 text-center"},ue={class:"mt-3"},de={key:0,id:"adminUser"},me={class:"d-flex list-Foot justify-content-evently align-items-center px-1"},ge={class:"stats"},pe=(0,r._)("h6",{class:"mt-3"},"Articles",-1),he={class:"stat"},fe={class:"stats"},Ee=(0,r._)("h6",{class:"mt-3"},"Commentaires",-1),ve={class:"stat"},De={class:"stats"},je=(0,r._)("h6",{class:"mt-3"},"Inscrit le:",-1),we={class:"stat"},be=(0,r._)("div",{class:"navBar mt-3 d-flex justify-content-between"},[(0,r._)("img",{class:"logoTop",src:B,alt:"logo groupomania"}),(0,r._)("ul",{class:"footerList"},[(0,r._)("li",null,[(0,r._)("a",{class:"contact",href:"mailto:contact@groupomania.com"},"Contact")]),(0,r._)("li",null,"Avis légal")])],-1);function Ne(e,t,s,o,a,n){const l=(0,r.up)("fa");return(0,r.wg)(),(0,r.iD)("div",Z,[(0,r._)("div",G,[(0,r._)("div",Y,[W,(0,r._)("div",{".class":e.powerOff},[(0,r.Wm)(l,{icon:["fas","power-off"],onClick:t[0]||(t[0]=e=>n.disconnect())})],8,H)]),(0,r._)("div",Q,[(0,r._)("div",J,[ee,(0,r._)("div",te,["admin"==e.userData.role?((0,r.wg)(),(0,r.iD)("span",se,[(0,r._)("button",{class:"btn btn-sm follow mt-0",onClick:t[1]||(t[1]=(...e)=>n.goToUsersData&&n.goToUsersData(...e))}," Liste Des utilsateurs ")])):(0,r.kq)("",!0),(0,r._)("span",null,[(0,r._)("button",{class:"btn btn-sm follow mt-0",onClick:t[2]||(t[2]=(...e)=>n.goToUpdateProfil&&n.goToUpdateProfil(...e))},"Modifier mon profil")]),(0,r._)("span",null,[(0,r._)("button",{class:"btn btn-sm follow mt-0",onClick:t[3]||(t[3]=(...e)=>n.goToFilActu&&n.goToFilActu(...e))}," Allez au fil d'actualité ")]),(0,r._)("span",null,[(0,r._)("button",{class:"btn btn-danger btn-sm follow mt-0",onClick:t[4]||(t[4]=t=>n.deleteUser(e.userData.id))}," Effacer mon compte ")])])]),(0,r._)("div",oe,[(0,r._)("div",re,[e.userData.media?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("img",ae)),e.userData.media?((0,r.wg)(),(0,r.iD)("img",{key:1,id:"userImg",src:e.userData.media,class:"rounded-circle",width:"80",alt:"Photo de profil"},null,8,ne)):(0,r.kq)("",!0)])]),(0,r._)("div",le,[e.userData.media?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",ie,"Choisissez une photo de profil"))]),(0,r._)("div",ce,[(0,r._)("h4",ue,(0,m.zw)(e.userData.firstName)+" "+(0,m.zw)(e.userData.lastName),1),"admin"==e.userData.role?((0,r.wg)(),(0,r.iD)("p",de,"Compte administrateur")):(0,r.kq)("",!0),(0,r._)("div",me,[(0,r._)("div",ge,[pe,(0,r._)("span",he,(0,m.zw)(e.CountArticle),1)]),(0,r._)("div",fe,[Ee,(0,r._)("span",ve,(0,m.zw)(e.CountComment),1)]),(0,r._)("div",De,[je,(0,r._)("span",we,(0,m.zw)(n.dateTime(e.userData.createdAt)),1)])])])]),be])])}s(11123);const ke=s(96237);let Se="",Ae="",Ue=$cookies.get("user");Ue&&(console.log("USER COOKIES",Ue),Se=Ue.userId,Ae=Ue.token);var Te={name:"profil",beforeMount:function(){console.log("BEFORE MOUNT");let e=$cookies.get("user");console.log("USER COOKIES",e),this.userId=e.userId,this.userToken=e.token,console.log("USER-DATA--\x3e",this.userData),this.getUserData(this.userId)},beforeCreate:function(){console.log("BEFORE CREATED"),console.log("USER-DATA--\x3e",this.userData)},created:function(){console.log("CREATED"),console.log("USER-DATA--\x3e",this.userData)},data:()=>({mode:"profil",fileSelected:null,name:"",userId:"",firstName:"",lastName:"",email:"",password:"",userToken:""}),props:{},computed:{...(0,z.mapState)({userData:"userData",CountArticle:"articles",CountComment:"comments",UpdateData:"formData",usersId:"userId"}),goToUsersData:function(){this.$router.push("/UserList")}},methods:{goToProfil:function(){this.mode="profil"},goToFilActu:function(){this.$router.push("/postPage")},goToUpdateProfil:function(){this.$router.push("/updateProfil")},disconnect(){console.log("DISCONNECT"),$cookies.remove("user"),Se="",Ae="",this.$router.push("/")},FileUpload(e){console.log("EVENT",e),this.fileSelected=e.target.files[0],console.log("fichier Image",this.fileSelected)},dateTime(e){return F()(e).format("DD-MM-YYYY")},getUserData(e){this.$store.dispatch("getUserData",e).then((e=>{console.log("REPONSE USER DATA Profil",e)})).catch((e=>{console.log(e)}))},onSubmit(){var e=new ke;e.append("media",this.fileSelected,this.fileSelected.name),e.append("firstName",this.firstName),e.append("lastName",this.lastName),e.append("email",this.email),e.append("userId",Se),console.table("this.firstName ",...e.entries()),this.$store.dispatch("updateUser",e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},deleteUser(e){const t=window.confirm("Voulez-vous vraiment supprimer votre compte ?");t&&(console.log("USER-ID PROFIL DELETE",e),this.$store.dispatch("deleteUser",e).then((e=>{e&&(console.log("RES PROFIL PAGE DELETE ------\x3e",e.data.message),alert("votre compte a été supprimé"),this.disconnect())})).catch((e=>{console.log("ERREUR REQUETE PROFIL DELETE USER------\x3e",e)})))}}};const _e=(0,l.Z)(Te,[["render",Ne]]);var ye=_e;const Ie=[{name:"postPage",path:"/postPage",component:()=>s.e(583).then(s.bind(s,31699))},{name:"login",path:"/",component:d.Z},{name:"profil",path:"/profil",component:ye},{name:"updateProfil",path:"/updateProfil",component:()=>s.e(646).then(s.bind(s,13646))},{name:"userList",path:"/UserList",component:X}],Pe=(0,u.p7)({history:(0,u.PO)(),routes:Ie});var Oe=Pe,xe=s(87749),Re=s(98125),Le=s(2274);Re.vI.add(Le.ILF),(0,o.ri)(c).use(Oe).use(M.Z).component("fa",xe.GN).mount("#app")},20560:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});s(81486);var o=s(20065);s(11123);s(75269);const r=s(11123),a=(s(20065),r.create({baseURL:"http://localhost:3000/"}));let n="",l="",i=$cookies.get("user");i&&(console.log("USER COOKIES",i),n=i.userId,l=i.token);const c=(0,o.createStore)({state:{status:"",user:"",userId:"",logoutErr:"",PostData:{},articles:"",updateUser:{firstName:"",lastName:"",email:"",userId:"",token:"",media:""},userToken:"",formData:{userId:"",firstName:"",lastName:"",email:"",password:"",media:""},useData:"",allsUsersData:"",userData:"",alldata:"",artData:""},mutations:{setStatus:(e,t)=>{e.status=t},LikeArr:(e,t)=>{e.likeArr=t},logUser:(e,t)=>{console.log("COOKIES",t),e.user=t,$cookies.set("user",JSON.stringify(t))},UserData:(e,t)=>{e.userData=t},AllsUsersData:(e,t)=>{e.allsUsersData=t},ArtData:(e,t)=>{e.artData=t},UseData:(e,t)=>{e.useData=t},Comment:(e,t)=>{e.comment=t},AllData:(e,t)=>{e.alldata=t},logoutErr:(e,t)=>{e.logoutErr=t},FormData:(e,t)=>{e.formData=t},Articles:(e,t)=>{e.articles=t},Comments:(e,t)=>{e.comments=t},UsersId:(e,t)=>{e.usersId=t}},computed:{},actions:{signupPost:({commit:e},t)=>(e("setStatus","loading"),new Promise(((s,o,r)=>{a.post("/signup",t).then((e=>{console.log("REPONSE",e),s(e)})).catch((t=>{e("logoutErr",t),o(t),console.log("ERREUR",t)}))}))),loginPost:({commit:e},t)=>(e("setStatus","loading"),console.log("USER-DATA LOGIN INDEX",t),new Promise(((s,o)=>{a.post("/login",t).then((t=>{e("setStatus",""),e("logUser",t.data),s(t),console.log("logUser",logUser)})).catch((t=>{e("setStatus","error_login"),console.log("ERREUR",t),o(t)}))}))),deleteUser:({commit:e},t)=>{const s=l;console.log("INDEX-TOKEN-USER CONNECT-------\x3e",s),console.log("INDEX-ID-DELETE------\x3e",t),console.log("INDEX-ID-USUR CONNECT------\x3e",n);const o={id:t};return e("setStatus","loading"),new Promise(((t,r)=>{a.put("/user/delete",o,{headers:{Authorization:`Bearer ${s}`}}).then((s=>{e("setStatus",""),s&&localStorage.removeItem("user"),t(s)})).catch((t=>{e("setStatus","error_login"),console.log("ça deconne delete index store"),r(t)}))}))},updateUser:({commit:e},t)=>{const s=l;return console.log("TOKEN",s),e("setStatus","loading"),console.log("UPDATE USER INDEX",t.entries()),new Promise(((o,r)=>{a.put("/user/update",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("RESPONSE INDEX --\x3e",t),e("setStatus","loading"),o(t),console.log("REPONSE UPDATE",t)})).catch((t=>{e("setStatus","error_create"),r(t),console.log("ERREUR",t),console.log("ça ne fonctionne pas")}))}))},getUserData:({commit:e},t)=>{const s=l;console.log("TOKEN",s);const o=t;console.log(t),a.get(`/user?id=${o}`,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("REPONSE USER-DATA INDEX STORE",t.data);const s=t.data.article.length;e("Articles",s);const o=t.data.comment.length;console.log("Articles",o),e("Comments",o),t?(e("UserData",t.data),console.log("REPONSE USER-DATA INDEX STORE IF",t.data)):console.log("pas de data")})).catch((e=>{console.log("reponse err",e)}))},getAllUsersData:async({commit:e},t)=>{const s=l;console.log("TOKEN",s),await a.get("/user/all",{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("reponse",t.data),e("AllsUsersData",t.data),t?console.log("reponse",t.data):console.log("erreur data")})).catch((e=>{console.log("reponse err",e)}))},uploadPost:({commit:e},t)=>{console.log("UPLOAD-POST INDEX",...t.entries()),e("setStatus","loading");const s=l;return console.log("TOKEN",s),new Promise(((o,r)=>{a.post("/article/post",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("RESPONSE INDEX --\x3e",t),e("setStatus","loading"),e("ArtData",t.data),o(t)})).catch((t=>{e("setStatus","error_create"),r(t),console.log("ça ne fonctionne pas")}))}))},updatePost:({commit:e},t)=>{const s=l;return console.log("TOKEN",s),e("setStatus","loading"),console.log("UPDATE USER INDEX",t.entries()),new Promise(((o,r)=>{a.put("/article/update",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("RESPONSE INDEX --\x3e",t),e("setStatus","loading"),o(t),console.log("REPONSE UPDATE",t)})).catch((t=>{e("setStatus","error_create"),r(t),console.log("ERREUR",t),console.log("ça ne fonctionne pas")}))}))},uploadComment:({commit:e},t)=>{console.log("UPLOAD-POST INDEX",...t.entries()),e("setStatus","loading");const s=l;return console.log("TOKEN",s),new Promise(((o,r)=>{a.post("/comment/post",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("RESPONSE INDEX --\x3e",t),e("setStatus","loading"),o(t)})).catch((t=>{e("setStatus","error_create"),r(t),console.log("ça ne fonctionne pas")}))}))},getAllArticle:({commit:e})=>{const t=l;console.log("TOKEN",t),e("setStatus","loading");return console.log("getAllArticle"),new Promise(((s,o)=>{a.get("/article/all",{headers:{Authorization:`Basic ${t}`}}).then((t=>{const o=[];e("setStatus","loading");const r=t.data.reverse();e("ArtData",r);const a=t.data,n=(a.article,a.map((e=>e.comment))),l=a.map((e=>e.dislike));e("LikeArr",l);l.map((e=>e.like)).reduce(((e,t)=>e+t));e("Comments",n),console.log("RESDATA  COMMENTS",t.data),console.table("RES.DATA LIKE INDEX 1",l),console.table("RES.DATA LIKE INDEX 2",l[2]),e("UsersId",o),s(t)})).catch((t=>{e("setStatus","error_create"),o(t),console.log("ça ne fonctionne pas post art")}))}))},deleteArticle:({commit:e},t)=>{const s=l;return console.log("INDEX-TOKEN-DELETE ARTICLE-------\x3e",s),console.log("INDEX-ID-DELETE ARTICLE------\x3e",t),e("setStatus","loading"),new Promise(((o,r)=>{a.put("/article/delete",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{e("setStatus",""),o(t)})).catch((t=>{e("setStatus","error_login"),console.log("ça deconne delete index store"),r(t)}))}))},deleteComment:({commit:e},t)=>{const s=l;return console.log("INDEX-TOKEN-DELETE COMMENT-------\x3e",s),console.log("INDEX-ID-DELETE COMMENT------\x3e",t),e("setStatus","loading"),new Promise(((o,r)=>{a.put("/comment/delete",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{e("setStatus",""),o(t)})).catch((t=>{e("setStatus","error_login"),console.log("ça deconne delete index store"),r(t)}))}))},likePost:({commit:e},t)=>{const s=l;return console.log("INDEX-TOKEN-LIKE-POST-------\x3e",s),console.log("INDEX-ID-LIKE-POST------\x3e",t),e("setStatus","loading"),new Promise(((o,r)=>{a.post("/like/post",t,{headers:{Authorization:`Bearer + ${s}`}}).then((e=>{console.log("RESPONSE LIKE INDEX",e),o(e)})).catch((t=>{e("setStatus","error_login"),e("errorLike",t),console.log("Erreur 401 LIKE-POST index store",t),r(t)}))}))}}});var u=c},27207:function(e,t,s){"use strict";s.d(t,{Z:function(){return q}});var o=s(73396),r=s(49242),a=s(87139),n=s.p+"img/icon-left-font-monochrome-white.7d488b0c.png";const l=e=>((0,o.dD)("data-v-18d8d95c"),e=e(),(0,o.Cn)(),e),i={class:"wrapper"},c={class:"container"},u={class:"login-form"},d=l((()=>(0,o._)("img",{src:n,alt:"logo",width:"100",height:"80"},null,-1))),m=l((()=>(0,o._)("span",{class:"form-title"},"Bienvenue sur votre reseau social Groupomania",-1))),g=l((()=>(0,o._)("span",{class:"form-title"},"Se connecter",-1))),p={key:0,class:"form-group"},h=l((()=>(0,o._)("label",{for:"nom"},"Nom",-1))),f={key:1,class:"error"},E={key:2,class:"form-group"},v=l((()=>(0,o._)("label",{for:"prenom"},"Prénom",-1))),D={key:3,class:"error"},j={class:"form-group"},w=l((()=>(0,o._)("label",{for:"email"},"Email",-1))),b={key:4,class:"error"},N={class:"form-group"},k=l((()=>(0,o._)("label",{for:"password"},"Mot de passe",-1))),S={key:5,class:"error"},A={class:"form-group"},U=l((()=>(0,o._)("label",{for:"submit",class:"btn-label"},"Se connecter",-1))),T=["keyUp"],_={key:6,class:"form-group"},y=l((()=>(0,o._)("label",{for:"submit",class:"btn-label"},"S'enregistrer",-1))),I={key:7},P=(0,o.Uk)("Vous n´êtes pas encore inscrit "),O=(0,o.Uk)("."),x={key:8},R=(0,o.Uk)("Vous êtes déjà inscrit "),L=(0,o.Uk)(".");function C(e,t,s,n,l,C){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",c,[(0,o._)("form",u,[d,m,g,"signup"==e.mode?((0,o.wg)(),(0,o.iD)("div",p,[h,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.firstName=t),type:"text",name:"nom",class:"form-control",placeholder:"Nom",required:""},null,512),[[r.nr,e.firstName]])])):(0,o.kq)("",!0),e.errorFirstName.length?((0,o.wg)(),(0,o.iD)("div",f,(0,a.zw)(e.errorFirstName),1)):(0,o.kq)("",!0),"signup"==e.mode?((0,o.wg)(),(0,o.iD)("div",E,[v,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.lastName=t),type:"text",name:"prenom",class:"form-control",placeholder:"Prénom",required:""},null,512),[[r.nr,e.lastName]])])):(0,o.kq)("",!0),e.errorLastName.length?((0,o.wg)(),(0,o.iD)("div",D,(0,a.zw)(e.errorlastName),1)):(0,o.kq)("",!0),(0,o._)("div",j,[w,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.Email=t),type:"email",name:"email",class:"form-control",placeholder:"Email",required:""},null,512),[[r.nr,e.Email]])]),e.errorEmail.length?((0,o.wg)(),(0,o.iD)("div",b,(0,a.zw)(e.errorEmail),1)):(0,o.kq)("",!0),(0,o._)("div",N,[k,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),type:"password",name:"password",class:"form-control",placeholder:" Votre mot de passe",required:""},null,512),[[r.nr,e.password]])]),e.errorPassword.length?((0,o.wg)(),(0,o.iD)("div",S,(0,a.zw)(e.errorPassword),1)):(0,o.kq)("",!0),(0,o._)("div",A,[U,"login"==e.mode?((0,o.wg)(),(0,o.iD)("input",{key:0,name:"submit",class:"btn btn-primary btn-lg btn-block",keyUp:e.enter,value:"Se connecter",onClick:t[4]||(t[4]=e=>C.loginPost())},null,8,T)):(0,o.kq)("",!0)]),"signup"==e.mode?((0,o.wg)(),(0,o.iD)("div",_,[y,(0,o._)("input",{name:"submit",class:"btn btn-primary btn-lg btn-block",keyUp:"enter",value:"S'enregistrer",onClick:t[5]||(t[5]=e=>C.checkForm())})])):(0,o.kq)("",!0),"login"==e.mode?((0,o.wg)(),(0,o.iD)("p",I,[P,(0,o._)("span",{onClick:t[6]||(t[6]=(...e)=>C.goToSignup&&C.goToSignup(...e))},"Inscrivez-vous"),O])):(0,o.kq)("",!0),"signup"==e.mode?((0,o.wg)(),(0,o.iD)("p",x,[R,(0,o._)("span",{onClick:t[7]||(t[7]=(...e)=>C.goToLogin&&C.goToLogin(...e))},"Connectez-vous"),L])):(0,o.kq)("",!0)])])])}var z=s(20065),$={name:"Login",props:{},data:function(){return{mode:"login",errorFirstName:[],errorLastName:[],errorEmail:[],errorPassword:[],lastNameErrorMsg:"",firstName:"",lastName:"",Email:"",password:""}},computed:{...(0,z.mapState)(["status"])},methods:{goToSignup:function(){this.mode="signup"},goToLogin:function(){this.mode="login"},checkForm:function(){return this.firstName?this.validFirstName(this.firstName)?this.lastName?this.validLastName(this.lastName)?this.Email?this.validEmail(this.Email)?this.password?this.validPassword(this.password)?void this.signupPost():(console.log("THIS:PASSWORD",this.password),this.errorPassword.push("* Mot de passe de 8 a 20 caractères dont 1 special et 1 chiffre * "),!1):(this.errorPassword.push("* l'adresse Email doit être renseignée."),!1):(console.log("THIS:EMAIL",this.Email),this.errorEmail.push("* Adresse email non valide"),!1):(this.errorEmail.push("* l'adresse Email doit être renseignée."),!1):(this.errorLastName.push("* Le prénom ne doit pas contenir de caractères spéciaux"),!1):(this.errorLastName.push(" * Le prénom doit être renseigné."),!1):(this.errorFirstName.push(" * Le nom ne doit pas contenir de caractères spéciaux"),!1):(this.errorFirstName.push(" * Le nom doit être renseigné."),!1)},validFirstName:function(e){console.log("VALIDATION FIRSTNAME",e);var t=/^[a-zA-Z-._àâéèêô´`¨ ñÑî'ùûïÏäëüöÖÄçÀÂÉÈÔÙÛÇ]*$/;return t.test(e)},validLastName:function(e){console.log("VALIDATION LASTNAME",e);var t=/^[a-zA-Z-._àâéèêô´`¨ ñÑî'ùûïÏäëüöÖÄçÀÂÉÈÔÙÛÇ]*$/;return t.test(e)},validEmail:function(e){console.log("VALIDATION EMAIL",e);var t=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g;return t.test(e)},validPassword:function(e){console.log("VALIDATION PASSWORD",e);var t=/^(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/g;return t.test(e)},signupPost:function(){const e=this;this.$store.dispatch("signupPost",{firstName:this.firstName,lastName:this.lastName,email:this.Email,password:this.password}).then((function(t){console.log("reponse",t),e.loginPost()})).catch((e=>{console.log(e)}))},loginPost:function(){const e=this;console.log(" LOGIN EMAIL",this.Email),this.$store.dispatch("loginPost",{email:this.Email,password:this.password}).then((t=>{console.log(t.data),e.$router.push("profil")})).catch((e=>{console.log("Restons calme login",e)}))}}},F=s(40089);const M=(0,F.Z)($,[["render",C],["__scopeId","data-v-18d8d95c"]]);var q=M},78199:function(e,t,s){"use strict";e.exports=s.p+"img/icon-left-font-monochrome-white.3302328a.svg"}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=e,function(){var e=[];s.O=function(t,o,r,a){if(!o){var n=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],a=e[u][2];for(var l=!0,i=0;i<o.length;i++)(!1&a||n>=a)&&Object.keys(s.O).every((function(e){return s.O[e](o[i])}))?o.splice(i--,1):(l=!1,a<n&&(n=a));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,r,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,o){return s.f[o](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+"."+{583:"43e7f245",646:"c63c9a78"}[e]+".js"}}(),function(){s.miniCssF=function(e){return"css/"+e+"."+{583:"80e5e135",646:"6d7e62d7"}[e]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";s.l=function(o,r,a,n){if(e[o])e[o].push(r);else{var l,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){l=d;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",t+a),l.src=o),e[o]=[r];var m=function(t,s){l.onerror=l.onload=null,clearTimeout(g);var r=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((function(e){return e(s)})),t)return t(s)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),i&&document.head.appendChild(l)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e=function(e,t,s,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var a=function(a){if(r.onerror=r.onload=null,"load"===a.type)s();else{var n=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=n,i.request=l,r.parentNode.removeChild(r),o(i)}};return r.onerror=r.onload=a,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var r=s[o],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var n=document.getElementsByTagName("style");for(o=0;o<n.length;o++){r=n[o],a=r.getAttribute("data-href");if(a===e||a===t)return r}},o=function(o){return new Promise((function(r,a){var n=s.miniCssF(o),l=s.p+n;if(t(n,l))return r();e(o,l,r,a)}))},r={143:0};s.f.miniCss=function(e,t){var s={583:1,646:1};r[e]?t.push(r[e]):0!==r[e]&&s[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};s.f.j=function(t,o){var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(s,o){r=e[t]=[s,o]}));o.push(r[2]=a);var n=s.p+s.u(t),l=new Error,i=function(o){if(s.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,r[1](l)}};s.l(n,i,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,n=o[0],l=o[1],i=o[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(i)var u=i(s)}for(t&&t(o);c<n.length;c++)a=n[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(23301)}));o=s.O(o)})();
//# sourceMappingURL=app.011937a2.js.map